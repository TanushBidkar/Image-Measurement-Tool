<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Image Measurement Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- Top Toolbar -->
        <div class="toolbar">
            <div class="toolbar-left">
                <h1>ğŸ“ Professional Measurement Tool</h1>
            </div>
            <div class="toolbar-right">
                <button id="uploadBtn" class="tool-btn">ğŸ“ Upload Image</button>
                <button id="zoomInBtn" class="tool-btn">ğŸ” Zoom In</button>
                <button id="zoomOutBtn" class="tool-btn">ğŸ” Zoom Out</button>
                <button id="resetZoomBtn" class="tool-btn">â†» Reset Zoom</button>
                <span id="zoomLevel">100%</span>
            </div>
        </div>

        <!-- Upload Section -->
        <div class="upload-overlay" id="uploadOverlay">
            <div class="upload-modal">
                <input type="file" id="imageInput" accept="image/*" style="display: none;">
                <div class="upload-content">
                    <span class="upload-icon">ğŸ“</span>
                    <h2>Upload Image</h2>
                    <p>Drag & drop files here or click to browse</p>
                    <p><strong>Supported:</strong> JPG, PNG, WebP (Max 50MB)</p>
                    <button class="upload-btn">Choose File</button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Side Panel -->
            <div class="side-panel" id="sidePanel">
                <!-- Calibration Section -->
                <div class="panel-section">
                    <h3>ğŸ¯ Calibration</h3>
                    <div class="input-group">
                        <label>Reference Length (feet):</label>
                        <input type="number" id="referenceLength" value="1.0" step="0.1" min="0.1">
                    </div>
                    <button id="setCalibrateBtn" class="btn-primary">Set Reference</button>
                    <button id="confirmCalibrationBtn" class="btn-success" style="display: none;">Confirm Calibration</button>
                    <div class="calibration-status" id="calibrationStatus">Not Calibrated</div>
                </div>

                <!-- Tools Section -->
                <div class="panel-section">
                    <h3>ğŸ› ï¸ Tools</h3>
                    <button id="measureBtn" class="btn-primary">ğŸ“ Measure</button>
                    <button id="clearAllBtn" class="btn-danger">ğŸ—‘ï¸ Clear All</button>
                </div>

                <!-- Measurements List -->
                <div class="panel-section">
                    <h3>ğŸ“Š Measurements</h3>
                    <div class="measurements-container" id="measurementsList">
                        <p class="no-measurements">No measurements yet</p>
                    </div>
                </div>
            </div>

            <!-- Main Canvas Area -->
            <div class="canvas-container" id="canvasContainer">
                <div class="canvas-wrapper" id="canvasWrapper">
                    <canvas id="imageCanvas"></canvas>
                    <div class="measurement-tooltip" id="measurementTooltip">
                        <span id="tooltipText">Click and drag to measure</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Measurement Item Template -->
        <template id="measurementTemplate">
            <div class="measurement-item">
                <div class="measurement-info">
                    <span class="measurement-label">Measurement #</span>
                    <span class="measurement-value">0.00 ft</span>
                </div>
                <div class="measurement-actions">
                    <button class="edit-btn" title="Edit">âœï¸</button>
                    <button class="delete-btn" title="Delete">ğŸ—‘ï¸</button>
                    <button class="focus-btn" title="Focus">ğŸ¯</button>
                </div>
            </div>
        </template>
    </div>

    <div class="status-bar" id="statusBar">
        <span class="status-message" id="statusMessage"></span>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
